<h1>Ebitengine 2.7 リリースノート</h1>
<h2>v2.7.0</h2>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/88?closed=1">Issues for v2.7.0</a></p>
<h3>新しい文字列描画パッケージ <code>text/v2</code></h3>
<p>(<a href="https://github.com/hajimehoshi/ebiten/issues/2454">#2454</a>)</p>
<p>新しい文字列描画パッケージ <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/text/v2"><code>text/v2</code></a> が追加されました。このパッケージは <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/text"><code>text</code></a> パッケージの後継です。</p>
<ul>
  <li>アラビア語や縦書き日本語などの対応 (<a href="https://github.com/hajimehoshi/ebiten/issues/675">#675</a>)</li>
  <li>グリフのベクター化 (<a href="https://github.com/hajimehoshi/ebiten/issues/1937">#1937</a>)</li>
  <li>右寄せなどのアラインメントの指定 (<a href="https://github.com/hajimehoshi/ebiten/issues/2143">#2143</a>)</li>
  <li>OpenType のフィーチャーなどのサポート (<a href="https://github.com/hajimehoshi/ebiten/issues/2454#issuecomment-1705150120">#2454</a>)</li>
  <li>その他バグ修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/498">#498</a>、 <a href="https://github.com/hajimehoshi/ebiten/issues/2669">#2669</a>)</li>
</ul>
<figure>
  <p class="img"><img src="/images/documents/2.7/i18n.png" width="360" ></p>
</figure>
<p>使い方については、次のサンプルを参考にしてください。</p>
<ul>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/fontfeature"><code>examples/fontfeature</code></a>: OpenType のフィーチャー</li>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/fontvariation"><code>examples/fontvariation</code></a>: OpenType のバリエーション</li>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/fontvector"><code>examples/fontvector</code></a>: グリフのベクター化</li>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/mixedfont"><code>examples/mixedfont</code></a>: 複数のフォントフェイスの混合</li>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/text"><code>examples/text</code></a>: 基本的なテキスト描画</li>
  <li><a href="https://github.com/hajimehoshi/ebiten/tree/main/examples/texti18n"><code>examples/texti18n</code></a>: 様々な言語の描画</li>
</ul>
<h3><code>exp/textinput</code></h3>
<p>IME 対応のための実験的パッケージ <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/exp/textinput"><code>exp/textinput</code></a> のサポート環境として、 Windows が追加されました (<a href="https://github.com/hajimehoshi/ebiten/issues/2735">#2735</a>)。</p>
<p>また、より簡単に使用するための API <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/exp/textinput#Field"><code>Field</code></a> が追加されました (<a href="https://github.com/hajimehoshi/ebiten/issues/2827">#2827</a>)。</p>
<h3>その他新しい API</h3>
<ul>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#BlendOperationMax"><code>ebiten.BlendOperationMax</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2395">#2395</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#BlendOperationMin"><code>ebiten.BlendOperationMin</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2395">#2395</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Image.Deallocate"><code>(*ebiten.Image).Deallocate</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2808">#2808</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MonitorType.DeviceScaleFactor"><code>(*ebiten.MonitorType).DeviceScaleFactor</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2795">#2795</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MonitorType.Size"><code>(*ebiten.MonitorType).Size</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2795">#2795</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#NonZero"><code>ebiten.NonZero</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2782">#2782</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#KeyF13"><code>ebiten.KeyF13</code></a> 〜 <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#KeyF24"><code>ebiten.KeyF24</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2801">#2801</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#KeyIntlBackslash"><code>ebiten.KeyIntlBackslash</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2921">#2921</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MaxVertexCount"><code>ebiten.MaxVertexCount</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2828">#2828</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#RunGameOptions.SingleThread"><code>ebiten.RunGameOptions.SingleThread</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2830">#2830</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#RunGameOptions.X11ClassName"><code>ebiten.RunGameOptions.X11ClassName</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2904">#2904</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#RunGameOptions.X11InstanceName"><code>ebiten.RunGameOptions.X11InstanceName</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2904">#2904</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Shader.Deallocate"><code>(*ebiten.Shader).Deallocate</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2808">#2808</a>)</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/mobile#RunOnJVM"><code>mobile.RunOnJVM</code></a> (<a href="https://github.com/hajimehoshi/ebiten/issues/2748">#2748</a>)</li>
</ul>
<h3>バグ修正</h3>
<p>このリリースはバージョン 2.6 にあった全てのバグ修正を含みます。</p>
<h3>非推奨になった API</h3>
<table>
  <tr>
    <th>2.6 以前</th>
    <th>2.7 以降</th>
    <th>Issue</th>
  </tr>
  <tr>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#DeviceScaleFactor"><code>ebiten.DeviceScaleFactor</code></a></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Monitor"><code>ebiten.Monitor</code></a> と <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MonitorType.DeviceScaleFactor"><code>(*ebiten.MonitorType).DeviceScaleFactor</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2795">#2795</a></td>
  </tr>
  <tr>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Image.Dispose"><code>(*ebiten.Image).Dispose</code></a></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Image.Deallocate"><code>(*ebiten.Image).Deallocate</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2808">#2808</a></td>
  </tr>
  <tr>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MaxVerticesCount"><code>ebiten.MaxVerticesCount</code></a></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MaxVertexCount"><code>ebiten.MaxVertexCount</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2828">#2828</a></td>
  </tr>
  <tr>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#ScreenSizeInFullscreen"><code>ebiten.ScreenSizeInFullscreen</code></a></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Monitor"><code>ebiten.Monitor</code></a> と <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#MonitorType.Size"><code>(*ebiten.MonitorType).Size</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2795">#2795</a></td>
  </tr>
  <tr>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Shader.Dispose"><code>(*ebiten.Shader).Dispose</code></a></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Shader.Deallocate"><code>(*ebiten.Shader).Deallocate</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2808">#2808</a></td>
  </tr>
  <tr>
    <td>ビルドタグ <code>ebitenginesinglethread</code></td>
    <td><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#RunGameOptions.SingleThread"><code>ebiten.RunGameOptions.SingleThread</code></a></td>
    <td><a href="https://github.com/hajimehoshi/ebiten/issues/2830">#2830</a></td>
  </tr>
</table>
<h3>非互換な変更</h3>
<ul>
  <li><code>gomobile build</code> はサポートされなくなりました (<a href="https://github.com/hajimehoshi/ebiten/issues/2741">#2741</a>)。</li>
  <li><code>ebitenmobile</code> コマンドを使用する場合、 <a href="https://cs.opensource.google/go/x/mobile/+/365c3533877076b351b0f5611a486ca6840d6864:app/android.go;l=72"><code>golang.org/x/mobile/app</code> の <code>RunOnJVM</code></a> は使用できなくなりました。代わりに <a href="https://github.com/hajimehoshi/ebiten/blob/v2.7.0/mobile/jvm_android.go#L32"><code>github.com/hajimehoshi/ebiten/v2/mobile</code> の <code>RunOnJVM</code></a> を使用してください (<a href="https://github.com/hajimehoshi/ebiten/issues/2748">#2748</a>)。</li>
</ul>
<h2>v2.7.1</h2>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/126?closed=1">Issues for v2.7.1</a></p>
<h3>バグ修正</h3>
<ul>
  <li>Linux の i3wm デスクトップ環境で <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#RunGame"><code>ebiten.RunGame</code></a> 前の <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#SetWindowSize"><code>ebiten.SetWindowSize</code></a> が正しく動かないことがあった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/2951">#2951</a>)。</li>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/text/v2"><code>text/v2</code></a> パッケージの <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/text/v2#Draw"><code>Draw</code></a> 関数で、オプション引数の <code>GeoM</code> が意図せず変更されてしまう問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/2954">#2954</a>)。</li>
</ul>
<h2>v2.7.2</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/127?closed=1">Issues for v2.7.2</a></p>
<ul>
  <li>ゲームパッドの標準マッピングが動かなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/2964">#2964</a>)。</li>
</ul>
<h2>v2.7.3</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/128?closed=1">Issues for v2.7.3</a></p>
<ul>
  <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#ScreenSizeInFullscreen"><code>ebiten.ScreenSizeInFullscreen</code></a> がブラウザでクラッシュした問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/2975">#2975</a>)。</li>
</ul>
<h2>v2.7.4</h2>
<p>このバージョンから、 Go 1.18 がサポートされなくなりました。 Go 1.18 をサポートしない依存ライブラリを更新する必要があったためです。</p>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/129?closed=1">Issues for v2.7.4</a></p>
<ul>
  <li>Android SDK 34 で <code>ebitenmobile</code> コマンドが動かなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/2992">#2992</a>)。</li>
</ul>
<h2>v2.7.5</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/130?closed=1">Issues for v2.7.5</a></p>
<ul>
  <li><code>exp/textinput</code> がブラウザで正しく動かなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3014">#3014</a>)。</li>
</ul>
<h2>v2.7.6</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/131?closed=1">Issues for v2.7.6</a></p>
<ul>
  <li>macOS で <code>ebiten.WindowSize</code> が正しく動かなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3029">#3029</a>)。</li>
  <li>Unmanaged な <code>ebiten.Image</code> が GC されても、それに対応する一部オブジェクトが解放されなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3030">#3030</a>)。</li>
</ul>
<h2>v2.7.7</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/132?closed=1">Issues for v2.7.7</a></p>
<ul>
  <li>Web ブラウザで、 <code>ebiten.SetRunnableOnUnfocused(false)</code> を最初に呼んだときに、キャンバスのサイズが正しく初期化されなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3034">#3034</a>)。</li>
</ul>
<h2>v2.7.8</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/133?closed=1">Issues for v2.7.8</a></p>
<ul>
  <li>Unmanaged な <code>*ebiten.Image</code> に対して <code>WritePixels</code> を連続して呼ぶとメモリリークする問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3036">#3036</a>)。</li>
  <li>Windows で MSIME を使ったときに、 <code>textinput.Field</code> で意図せず二重にテキストが入力されてしまう問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3041">#3041</a>)。</li>
  <li>ブラウザで HTML 要素をゲーム画面の Canvas 上にドロップするとクラッシュする問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3043">#3043</a>)。</li>
  <li>Windows で複数の同じコントローラーを接続したときに正しく動作しない問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3046">#3046</a>、 <a href="https://github.com/hajimehoshi/ebiten/issues/3047">#3047</a>)。</li>
</ul>
<h2>v2.7.9</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/134?closed=1">Issues for v2.7.9</a></p>
<ul>
  <li><code>ebiten.DroppedFiles()</code> の戻り値に対して <code>Open(".")</code> を呼ぶと、常に同じオブジェクトを返してしまっていた問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3081">#3081</a>)。</li>
</ul>
<h2>v2.7.10</h2>
<h3>バグ修正</h3>
<p><a href="https://github.com/hajimehoshi/ebiten/milestone/135?closed=1">Issues for v2.7.10</a></p>
<ul>
  <li>Android でコンテキストロスト発生時に、安全に終了せず、クラッシュしていた問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3097">#3097</a>)。</li>
  <li><code>RunOptions</code>の<code>InitUnfocused</code> が機能していなかった問題の修正 (<a href="https://github.com/hajimehoshi/ebiten/issues/3099">#3099</a>)。</li>
</ul>
